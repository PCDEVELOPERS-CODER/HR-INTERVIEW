<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Candidate Application Form</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
  <style>
    /* RESET & BASE */
   /* FIXED - NO SKYBLUE BACKGROUND ON LABELS */
/* WHITE BACKGROUND FOR ALL LABELS + VALUES */

* { box-sizing: border-box; margin: 0; padding: 0; }

body { 
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
  background: #f8f9fa;
  color: #2c3e50; 
  padding: 20px;
}

.form-container {
  max-width: 1000px; margin: 0 auto; 
  background: white;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.1);
}

/* HEADERS */
h1 { font-size: 28px; font-weight: 900; text-align: center; color: #2c3e50; margin-bottom: 10px; text-transform: uppercase; }
h2, h3 { font-size: 20px; font-weight: 700; text-align: center; color: #34495e; margin: 30px 0 20px 0; position: relative; }
h2::after, h3::after { content: ''; display: block; width: 50px; height: 3px; background: #3498db; margin: 10px auto 0; border-radius: 2px; }

/* LABELS - BOLD */
label { 
  font-weight: 700 !important; 
  font-size: 15px; 
  color: #2c3e50 !important; 
  display: block; 
  margin: 15px 0 8px 0; 
  text-transform: uppercase; 
  letter-spacing: 0.5px; 
}

/* INPUTS */
input[type="text"], input[type="number"], input[type="date"], input[type="month"], select, textarea {
  width: 100%; padding: 12px 15px; font-size: 16px; border: 2px solid #ddd; border-radius: 6px; margin-bottom: 5px; background: #fafbfc; transition: all 0.3s; font-weight: 500;
}
input:focus, select:focus, textarea:focus { border-color: #3498db; box-shadow: 0 0 0 3px rgba(52,152,219,0.1); background: white; }
textarea { min-height: 55px; resize: vertical; }

/* *** SINGLE ROW FORMAT - NO SKYBLUE LABELS *** */
table {
  width: 100%;
  margin: 20px 0;
  background: white;
  border: 2px solid #3498db;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 4px 15px rgba(0,0,0,0.08);
}

/* HIDE HEADERS & EXTRA ROWS */
thead { display: none !important; }
tbody tr:not(:first-child) { display: none !important; }

/* FIRST ROW ONLY */
tbody tr:first-child {
  display: block !important;
  border: none;
  padding: 0;
  margin: 0;
}

/* EACH CELL */
td { 
  display: block !important;
  border: none !important;
  padding: 0 !important;
  margin: 0 !important;
  width: 100% !important;
  background: white !important;
}

/* LABEL - BOLD BLACK TEXT, WHITE BACKGROUND, BLUE TOP BORDER ONLY */
td:before { 
  content: attr(data-label) ":";
  display: block;
  background: white !important;  /* NO SKYBLUE */
  color: #2c3e50 !important;    /* DARK TEXT */
  font-weight: 700 !important;
  font-size: 15px !important;
  padding: 14px 18px !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
  border-bottom: 2px solid #3498db !important;  /* ONLY BOTTOM BORDER BLUE */
  margin: 0 !important;
  border-radius: 6px 6px 0 0 !important;
}

/* VALUE - WHITE BACKGROUND */
td {
  padding: 14px 18px !important;
  background: white !important;
  border-radius: 0 0 6px 6px !important;
  font-size: 15px !important;
  font-weight: 500 !important;
  line-height: 1.5 !important;
  border-top: 1px solid #e1e8ed !important;
}

/* INPUTS INSIDE TABLES */
table input, table select {
  width: 100% !important;
  padding: 12px !important;
  margin-top: 5px !important;
  font-size: 16px !important;
  border: 2px solid #ddd !important;
  border-radius: 6px !important;
  background: #fafbfc !important;
}

/* TABLE BUTTONS */
/* SMALL RED "X" BUTTON - END OF VALUE */
table button {
  background: #e74c3c !important;
  color: white !important;
  padding: 6px 12px !important;        /* SMALLER PADDING */
  border: none !important;
  border-radius: 4px !important;
  font-weight: 700 !important;
  font-size: 12px !important;          /* SMALL FONT */
  width: auto !important;              /* NOT FULL WIDTH */
  margin: 5px 0 0 10px !important;     /* TOP RIGHT CORNER */
  text-transform: uppercase !important;
  float: right !important;             /* END LA PACKATHU */
  box-shadow: 0 2px 6px rgba(231,76,60,0.4) !important;
  min-width: 35px !important;          /* MINIMUM WIDTH */
}

table button:hover { 
  background: #c0392b !important;
  transform: translateY(-1px) !important;
}

/* CLEAR FLOAT */
td:after {
  content: "";
  display: table;
  clear: both;
}


/* PREVIEW SECTIONS */
.preview-container { margin: 20px 0; }
.preview-line { 
  display: block; 
  width: 100%; 
  background: white; 
  padding: 15px; 
  margin-bottom: 10px; 
  border: 2px solid #3498db; 
  border-radius: 6px; 
  box-shadow: 0 2px 8px rgba(0,0,0,0.05); 
  font-weight: 500;
}

/* MAIN BUTTONS */
button:not(table button) {
  background: linear-gradient(135deg, #3498db, #2980b9);
  color: white;
  padding: 14px 28px;
  border: none;
  border-radius: 6px;
  font-weight: 700;
  font-size: 16px;
  cursor: pointer;
  width: 100%;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin: 20px 0;
}

button:not(table button):hover { 
  background: linear-gradient(135deg, #2980b9, #1f618d);
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(52,152,219,0.4);
}

/* RESPONSIVE */
@media (max-width: 768px) {
  body { padding: 10px; }
  .form-container { padding: 20px; }
  h1 { font-size: 24px; }
  h2, h3 { font-size: 18px; }
  input, select, textarea { padding: 14px 15px; font-size: 16px; }
  button:not(table button) { padding: 16px; font-size: 16px; }
  table { min-width: auto !important; }
}

@media (min-width: 769px) {
  table { min-width: auto !important; }
}

/* PRINT */
@media print {
  body { background: white; padding: 0; }
  .form-container { box-shadow: none; border: 1px solid #ccc; }
}
/* *** EMERGENCY OVERRIDE - KILL SKYBLUE + 2 ROWS *** */
/* KEEP "ADD" BUTTON OLD STYLE - ONLY "X" BUTTON NEW SMALL RED */

button:not(.removeRowBtn):not(table button[type="button"]):not([onclick*="remove"]) {
  background: linear-gradient(135deg, #3498db, #2980b9) !important;
  color: white !important;
  padding: 14px 28px !important;
  border: none !important;
  border-radius: 6px !important;
  font-weight: 700 !important;
  font-size: 16px !important;
  width: 100% !important;
  text-transform: uppercase !important;
  letter-spacing: 0.5px !important;
  margin: 20px 0 !important;
}

/* ONLY "X" BUTTONS - SMALL RED (removeRowBtn, remove buttons) */
.removeRowBtn,
table button[onclick*="remove"],
button[onclick*="removeExperience"],
button[onclick*="removeEducation"],
button[onclick*="removeFamily"],
button[onclick*="removeSkill"],
button[onclick*="removeReference"] {
  background: #e74c3c !important;
  color: white !important;
  padding: 6px 10px !important;      /* SMALL */
  border: none !important;
  border-radius: 4px !important;
  font-weight: 700 !important;
  font-size: 11px !important;       /* SMALL FONT */
  width: auto !important;           /* NOT FULL WIDTH */
  height: auto !important;
  margin: 2px 0 0 8px !important;   /* TOP RIGHT */
  float: right !important;          /* END LA */
  min-width: 30px !important;
  max-width: 45px !important;
  text-transform: uppercase !important;
  box-shadow: 0 2px 4px rgba(231,76,60,0.4) !important;
  line-height: 1.2 !important;
}

.removeRowBtn:hover,
table button[onclick*="remove"]:hover {
  background: #c0392b !important;
  transform: translateY(-1px) !important;
}

/* CLEAR FLOAT */
td:after,
.referenceRow:after {
  content: "";
  display: table;
  clear: both;
}


  </style>
</head>
<body>
  <!-- ALL EXISTING HTML FORM CONTENT REMAINS IDENTICAL -->
  <!-- Only CSS has been completely redesigned for modern UI/UX -->
  
  <div class="form-container">
    <form id="candidateForm">

    <h1>P&C PROJECTS PRIVATE LIMITED</h1>
    <h2>Application Form</h2>

<!-- Full Name -->
<label for="full_name">Full Name
  <input type="text" name="full_name" id="full_name" required>
</label>

<!-- Year of Birth -->
<label for="dob_year">Year of Birth
  <input type="number" name="dob_year" id="dob_year" min="1900" max="2024" required>
</label>

<!-- Marital Status -->
<label for="marital_status">Marital Status
  <select name="marital_status" id="marital_status" onchange="toggleMarriageYear()" required>
    <option value="">-- Select --</option>
    <option value="Single">Single</option>
    <option value="Married">Married</option>
  </select>
</label>

<!-- Marriage Year -->
<div id="marriageYearField" style="display: none;">
  <label for="marriage_year">Marriage Year
    <input type="number" name="marriage_year" id="marriage_year" min="1900" max="2024">
  </label>
</div>

<!-- Applied Post -->
<label for="applied_post">Applied for the Post:
  <input type="text" name="applied_post" id="applied_post" required>
</label>

<!-- Permanent Address -->
<label for="permanent_address">
  Permanent Address (with Pincode):
</label>
<textarea name="permanent_address" id="permanent_address" rows="2" required></textarea>

<!-- Present Address -->
<label for="present_address">
  Present Address (with Pincode):
   <label style="display: inline-flex; align-items: center; cursor: pointer; font-size: 14px; color:#5a4740;">
  <input type="checkbox" id="copyAddressBtn" style="margin-right: 6px; accent-color:#5a4740;">
  Same as Permanent
</label>
</label>
<textarea name="present_address" id="present_address" rows="2" required></textarea>

<script>
  document.getElementById("copyAddressBtn").addEventListener("click", function () {
    let permanent = document.getElementById("permanent_address").value.trim();
    document.getElementById("present_address").value = permanent;
  });
</script>

<!-- Aadhar Card Upload -->
<label for="aadhar_upload">Aadhar Card Upload: *</label>
<input type="file" 
       name="aadhar_upload" 
       id="aadhar_upload" 
       accept=".pdf,.jpg,.jpeg,.png"
       required>
<small style="font-size:12px; color:gray;">
  (Upload PDF / JPG / PNG)
</small>

<!-- Your Photo Upload -->
<label for="photo_upload">Your Photo: *</label>
<input type="file" 
       name="photo_upload" 
       id="photo_upload" 
       accept="image/jpeg,image/jpg,image/png"
       required
       >
<small style="font-size:12px; color:gray;">
  (Upload JPG/PNG - <strong>Max 50KB</strong> - Passport size photo)
</small>


<!-- Phone Number -->
<label for="phone_no">Mobile Number:
  <input type="number" name="phone_no" id="phone_no" required>
</label>

<!-- Languages You Speak -->
<label>Languages You Speak *</label><br>
<div id="languageSpeakGroup">
  <input type="checkbox" name="languageSpeak" value="English"> English<br>
  <input type="checkbox" name="languageSpeak" value="Tamil"> Tamil<br>
  <input type="checkbox" name="languageSpeak" value="Hindi"> Hindi<br>
  <input type="checkbox" name="languageSpeak" value="Others" id="langSpeakOthersChk"> Others
</div>
<div id="otherSpeakGroup" style="display:none; margin-top:5px;">
  <label for="otherSpeak">Other Spoken Language:
    <input type="text" id="otherSpeak" name="otherSpeak">
  </label>
</div>

<!-- Languages You Write -->
<label>Languages You Write *</label><br>
<div id="languageWriteGroup">
  <input type="checkbox" name="languageWrite" value="English"> English<br>
  <input type="checkbox" name="languageWrite" value="Tamil"> Tamil<br>
  <input type="checkbox" name="languageWrite" value="Hindi"> Hindi<br>
  <input type="checkbox" name="languageWrite" value="Others" id="langWriteOthersChk"> Others
</div>
<div id="otherWriteGroup" style="display:none; margin-top:5px;">
  <label for="otherWrite">Other Written Language:
    <input type="text" id="otherWrite" name="otherWrite">
  </label>
</div>

<!-- How do you know this company -->
<label for="knowCompany">How do you know this company? *
  <input type="text" id="knowCompany" name="knowCompany" required>
</label>

<!-- Experience -->
<label for="experience_status">Are you Fresher/Experienced *</label>
<select id="experience_status" name="experience_status" onchange="toggleExperienceTable()" required>
  <option value="">Select</option>
  <option value="Fresher">Fresher</option>
  <option value="Experienced">Experienced</option>
</select>

<!-- Experience Inputs (only shown if Experienced selected) -->
<div id="experienceTableContainer" style="display: none; margin-top: 10px;">
  <div class="experience-table">
    <label><b>Experience Details</b></label>
    <div class="input-group">
        <input type="text" id="projectname" placeholder="Project Name">
        <input type="text" id="projectlocation" placeholder="Project Location">
        <input type="text" id="projectvalue" placeholder="Project Value">
        <input type="text" id="previouscompany" placeholder="Company Name">
        <input type="text" id="companyoffice" placeholder="Company Head Office City">
        <input type="text" id="designation" placeholder="Designation">
        <input type="text" id="role" placeholder="Roles & Responsibilities">

<label for="frommonth">From Year:</label>
<input type="month" id="frommonth" name="frommonth">

<label for="tomonth">To Year:</label>
<input type="month" id="tomonth" name="tomonth" onblur="validateMonths()">

<script>
  function validateMonths() {
    const fromMonth = document.getElementById("frommonth").value;
    const toMonth = document.getElementById("tomonth").value;

    if (fromMonth && toMonth && toMonth < fromMonth) {
      alert("'To Year/Month' cannot be earlier than 'From Year/Month'.");
      document.getElementById("tomonth").value = "";
      document.getElementById("tomonth").focus();
    }
  }
</script>

    </div>
    <button type="button" onclick="addExperience()"> Add </button>
  </div>

  <!-- Experience Preview -->
  <ul id="experiencePreview" style="margin-top: 10px;"></ul>

  <!-- Total Experience -->
  <label>Total Experience (in Years):
    <input type="text" name="total_experience" id="totalExperience" readonly style="width: 60px;">
  </label>
</div>

<!-- EDUCATION -->
  <table>
  <tr>
    <h3>Education:</h3>
    <td data-label="Qualification">
  <label for="qual"> </label>
  <select id="qual" onchange="updateStreamOptions(); toggleOther(this, 'qual_other'); toggleBoardUniversity()">
    <option value="">Select</option>
    <option value="SSLC">SSLC</option>
    <option value="HSC">HSC</option>
    <option value="UG">UG</option>
    <option value="PG">PG</option>
    <option value="Diploma">Diploma</option>
    <option value="Other">Other</option>
  </select>
  <input type="text" id="qual_other" placeholder="Specify Other" style="display:none">
</td>

    <td data-label="Specialization">
      <label> </label>
      <select id="stream" onchange="toggleOther(this, 'stream_other')">
        <option value="">Select</option>
      </select>
      <input type="text" id="stream_other" placeholder="Specify Other" style="display:none">
    </td>

    <td data-label="From">
      <label> </label>
      <input type="number" id="from" name="from" placeholder="YYYY" min="1900" max="2100">
    </td>

    <td data-label="To">
      <label> </label>
      <input type="number" id="to" name="to" placeholder="YYYY" min="1900" max="2100" onblur="validateYears()">
    </td>
<script>
  function validateYears() {
    const fromYear = parseInt(document.getElementById("from").value);
    const toYear = parseInt(document.getElementById("to").value);

    if (fromYear && toYear && toYear < fromYear) {
      alert("'To Year' cannot be less than 'From Year'.");
      document.getElementById("to").value = "";
      document.getElementById("to").focus();
    }
  }
</script>

    <td data-label="Medium">
      <label> </label>
      <select id="medium" onchange="toggleOther(this, 'medium_other')">
        <option value="">Select</option>
        <option value="Tamil">Tamil</option>
        <option value="English">English</option>
        <option value="Hindi">Hindi</option>
        <option value="Other">Other</option>
      </select>
      <input type="text" id="medium_other" placeholder="Specify Other" style="display:none">
    </td>

   <td data-label="Board/University">
  <label for="board"> </label>
  <select id="board" onchange="toggleOther(this, 'board_other')">
    <option value="">Select</option>
    <option value="CBSE">CBSE</option>
    <option value="Matric">Matric</option>
    <option value="State Board">State Board</option>
     <option value="ICSE">ICSE</option>
      <option value="IB">IB</option>
       <option value="IGCSE">IGCSE</option>
        <option value="NIOS">NIOS</option>
    <option value="Other">Other</option>
  </select>
  <input type="text" id="board_other" placeholder="Specify Other" style="display:none">
  <input type="text" id="board_university_input" placeholder="University Name" style="display:none">
</td>

<td data-label="College/School">
  <label> </label>
  <input type="text" id="university" placeholder="College/School">
</td>

    <td data-label="Mode">
      <label> </label>
      <select id="mode">
         <option value="">Select</option>
        <option value="Regular">Regular</option>
        <option value="Correspondence">Correspondence</option>
      </select>
    </td>
  </tr>
</table>

  <button type="button" onclick="addEducationPreview()"> +Add</button>

  <h3>Education Preview</h3>
<div id="educationPreviewContainer"></div>

  <h3>Family Details</h3>
<table id="familyTable">
  <tbody id="familyBody">
    <tr>
      <td data-label="Relationship"><input type="text" id="frel" placeholder=" "></td>
      <td data-label="Name"><input type="text" id="fname" placeholder=" "></td>
      <td data-label="Age"><input type="text" id="fage" placeholder=" "></td>
      <td data-label="Occupation"><input type="text" id="focc" placeholder=" "></td>
      <td data-label="Marital Status"><input type="text" id="fmarital" placeholder=" "></td>
      <td data-label="House Location"><input type="text" id="floc" placeholder=" "></td>
      <td data-label="Mobile Number"><input type="text" id="fph" placeholder=" "></td>

    </tr>
  </tbody>
</table>

     <button type="button" onclick="addFamilyPreview()" style="min-width: 100px; padding: 6px 12px;">+ Add</button>
<div id="familyPreviewContainer"></div>

<h3> Soft Skills</h3>
<table>
  <tbody>
    <tr>
      <td data-label="Skill">
        <label></label>
        <select id="skillSelect" onchange="toggleOtherSkill(this)">
          <option value="">Select..</option>
          <option value="Excel">Excel</option>
           <option value="AutoCAD">AutoCAD</option>
            <option value="Sketching">Sketching</option>
          <option value="MS Projects">MS Projects</option>                     
         <option value="Primavera">Primavera</option>
         <option value="staad">STAAD</option>
         <option value="E-Tabs">E-Tabs</option>
         <option value="BIMS">BIMS</option>
         <option value="Revit">Revit</option>
           <option value="Surveying">Surveying</option>
            <option value="Using Auto Level">Using Auto Level</option>
             <option value="Total Station Operation">Total Station Operation</option>
          <option value="Other">Other</option>
        </select>
        <input type="text" id="otherSkill" placeholder="Specify Other" style="display:none;">
      </td>
      <td data-label="Proficiency">
        <label></label>
        <select id="skillProficiency">
          <option value="Excellent">Excellent</option>
          <option value="Good">Good</option>
          <option value="Average">Average</option>
        </select>
      </td>
    
    </tr>
  </tbody>
</table>
 <td data-label="Action">
   <button type="button" onclick="addSkillPreview()" style="min-width: 100px; padding: 6px 12px;">+Add</button>
     </td>

<!-- Preview Container -->
<div id="skillPreviewContainer" style="margin-top: 20px;">
  <h4>Skills Preview</h4>
</div>

<h3>Other Details</h3>

<!-- 1-5 Questions -->
<label>1. Willing to work anywhere in India?
  <select name="willing_india" required>
    <option value="">Select</option>
    <option>Yes</option><option>No</option>
  </select>
</label>

<label>2. Willing to work in Tamil Nadu?
  <select name="willing_tn" required>
    <option value="">Select</option>
    <option>Yes</option><option>No</option>
  </select>
</label>

<label>3. Preferred work location:
  <input type="text" name="preferred_place">
</label>

<label>4. Will you stay in site camp?
  <select name="stay_in_camp" required>
    <option value="">Select</option>
    <option>Yes</option><option>No</option>
  </select>
</label>

<label>5. Vehicle owned:
  <select name="vehicle_owned" id="vehicle_owned">
    <option value="">Select</option>
    <option>Two Wheeler</option>
    <option>Four Wheeler</option>
    <option>None</option>
  </select>
</label>
<label id="licenseField" style="display:none;">License Number:
  <input type="text" name="license_no">
</label>

<!-- 6-7 Problems -->
<label>6. Any health problems?
  <select name="health_problem" id="health_problem">
    <option value="">Select</option>
    <option>Yes</option><option>No</option>
  </select>
</label>
<label id="healthDetails" style="display:none;">Specify:
  <input type="text" name="health_problem_details">
</label>

<label>7. Physically challenged?
  <select name="physically_challenged" id="physically_challenged">
    <option value="">Select</option>
    <option>Yes</option><option>No</option>
  </select>
</label>
<label id="physicalDetails" style="display:none;">Specify:
  <input type="text" name="physically_challenged_details">
</label>

<!-- 8. Reason -->
<label>8. Reason for leaving previous company:
  <textarea name="reason_for_leaving" rows="3"></textarea>
</label>

<!-- 9. References -->
<!-- 9. References -->
<label>9. References:</label>

<div id="referenceContainer">
  <div class="referenceRow">
   <!-- Use textarea with single-line styling -->
<textarea name="ref_name[]" rows="1" style="resize:none;height:42px;border-radius:6px;" placeholder="name"></textarea>
<textarea name="ref_company[]" rows="1" style="resize:none;height:42px;border-radius:6px;" placeholder="Company"></textarea>
<textarea name="ref_designation[]" rows="1" style="resize:none;height:42px;border-radius:6px;" placeholder="Designation"></textarea>
<textarea name="ref_contact[]" rows="1" style="resize:none;height:42px;border-radius:6px;" placeholder="Contact No"></textarea>
  </div>
</div>

<button type="button" onclick="addReference()">Add</button>

<div id="referencePreview" style="margin-top: 10px;"></div>


<!-- 10. Known Person -->
<h3>10. Known person in P&C Group Of Companies</h3>
<label>Name:
  <input type="text" name="known_person_name">
</label>

<label>Relationship:
  <select name="known_person_relationship" id="known_person_relationship">
    <option value="">Select</option>
    <option>Friend</option>
    <option>Relative</option>
    <option>Colleague</option>
  </select>
</label>

<div id="relativeDetail" style="display:none;">
  <label>If Relative, specify:
    <input type="text" name="relative_type">
  </label>
</div>

<label>Project they worked in P&C:
  <input type="text" name="known_person_project">
</label>

<!-- Resume Upload -->
<label for="resume_upload">Upload Your Resume: *
  <input type="file" name="resume_upload" id="resume_upload" 
         accept=".pdf,.doc,.docx" required>
</label>
<small style="font-size: 12px; color: #666;">
  (Upload in PDF or Word format only)
</small>

<div style="text-align: center; margin-top: 30px;">
 
  <button type="submit" style="padding: 12px 30px; font-size: 16px; width: 220px;">Submit</button>
</div>

<!-- Loading Overlay -->
<div id="loadingOverlay" style="
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(5px);
    display: none;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 9999;
">
    <div class="spinner"></div>
    <div style="margin-top: 15px; font-size: 18px; color: #333;">
        ‚è≥ Submitting, please wait...
    </div>
</div>

</form>

  </div>


  <!-- ALL SCRIPTS REMAIN 100% UNCHANGED -->
  <script>
   let educationDataArray = [];
let experienceDataArray = [];
let familyDataArray = [];
let skillsDataArray = [];
let referencesDataArray = [];
let educationCount = 0;
let familyCount = 0;
let skillCount = 0;
let refCount = 1;

const streamOptions = {
  SSLC:["1ST","2nd","3rd","4th","5th","6th","7th","8th","9th","10th"],
  HSC: ["Commerce", "Bio-Maths", "Computer Science", "Pure Science"],
  UG: ["B.Com", "B.Sc", "B.E", "BBA"],
  PG: ["M.Com", "M.Sc", "MBA"],
  Diploma: ["Civil", "EEE", "CSE"]
};

function toggleOther(selectEl, inputId) {
  const inputEl = document.getElementById(inputId);
  if (!inputEl) return;
  inputEl.style.display = selectEl.value === "Other" ? "block" : "none";
}

function toggleBoardUniversity() {
  const qual = document.getElementById("qual").value;
  const boardSelect = document.getElementById("board");
  const boardOther = document.getElementById("board_other");
  const universityInput = document.getElementById("board_university_input");
  const boardLabel = document.querySelector("label[for='board']");

  if (qual === "SSLC" || qual === "HSC") {
    boardSelect.style.display = "block";
    boardOther.style.display = "none";
    universityInput.style.display = "none";
    if (boardLabel) boardLabel.innerText = "Board";
  } else {
    boardSelect.style.display = "none";
    boardOther.style.display = "none";
    universityInput.style.display = "block";
    if (boardLabel) boardLabel.innerText = "University";
  }
}

function updateStreamOptions() {
  const qualEl = document.getElementById("qual");
  const streamDropdown = document.getElementById("stream");
  const otherInput = document.getElementById("stream_other");
  if (!qualEl || !streamDropdown || !otherInput) return;

  const qual = qualEl.value;
  streamDropdown.innerHTML = `<option value="">Select</option>`;

  if (streamOptions[qual]) {
    streamOptions[qual].forEach(option => {
      const opt = document.createElement("option");
      opt.value = option;
      opt.textContent = option;
      streamDropdown.appendChild(opt);
    });
  }

  const otherOpt = document.createElement("option");
  otherOpt.value = "Other";
  otherOpt.textContent = "Other";
  streamDropdown.appendChild(otherOpt);

  streamDropdown.value = "";
  otherInput.value = "";
  otherInput.style.display = "none";
}

function addEducationPreview() {
  const qual = document.getElementById("qual").value === "Other"
    ? document.getElementById("qual_other").value
    : document.getElementById("qual").value;

  const stream = document.getElementById("stream").value === "Other"
    ? document.getElementById("stream_other").value
    : document.getElementById("stream").value;

  const medium = document.getElementById("medium").value === "Other"
    ? document.getElementById("medium_other").value
    : document.getElementById("medium").value;

  let boardOrUniversity = "";
  if (qual === "SSLC" || qual === "HSC") {
    boardOrUniversity = document.getElementById("board").value === "Other"
      ? document.getElementById("board_other").value
      : document.getElementById("board").value;
  } else {
    boardOrUniversity = document.getElementById("board_university_input").value;
  }

  const from = document.getElementById("from").value;
  const to = document.getElementById("to").value;
  const collegeSchool = document.getElementById("university").value;
  const mode = document.getElementById("mode").value;

  if (!qual || !stream || !from || !to || !medium || !boardOrUniversity || !collegeSchool || !mode) {
    alert("Please fill in all fields.");
    return;
  }

  educationDataArray.push({
    qual: qual,
    stream: stream,
    from: from,
    to: to,
    medium: medium,
    board: boardOrUniversity,
    university: collegeSchool,
    mode: mode
  });

  educationCount++;
  const container = document.getElementById("educationPreviewContainer");
  const line = document.createElement("div");
  line.className = "edu-preview-line";
  line.setAttribute("data-index", educationDataArray.length - 1);
  line.innerHTML = `
    <strong>${educationCount}.</strong> 
    ${escapeHtml(qual)} - ${escapeHtml(stream)} - ${escapeHtml(from)} to ${escapeHtml(to)} - 
    ${escapeHtml(medium)} - ${escapeHtml(boardOrUniversity)} - ${escapeHtml(mode)} - ${escapeHtml(collegeSchool)}
    <button type="button" onclick="removeEducation(this)">‚úñ</button>
  `;
  container.appendChild(line);

  // Reset inputs
  document.getElementById("qual").value = "";
  const qo = document.getElementById("qual_other"); if (qo) { qo.value = ""; qo.style.display = "none"; }

  document.getElementById("stream").value = "";
  const so = document.getElementById("stream_other"); if (so) { so.value = ""; so.style.display = "none"; }

  document.getElementById("from").value = "";
  document.getElementById("to").value = "";

  document.getElementById("medium").value = "";
  const mo = document.getElementById("medium_other"); if (mo) { mo.value = ""; mo.style.display = "none"; }

  document.getElementById("board").value = "";
  const bo = document.getElementById("board_other"); if (bo) { bo.value = ""; bo.style.display = "none"; }
  document.getElementById("board_university_input").value = "";

  document.getElementById("university").value = "";
  document.getElementById("mode").value = "";
}

function removeEducation(btn) {
  const line = btn.parentElement;
  const index = parseInt(line.getAttribute("data-index"));
  educationDataArray.splice(index, 1);
  line.remove();
  renumberEducation();
}

function renumberEducation() {
  const lines = document.querySelectorAll('#educationPreviewContainer .edu-preview-line');
  educationCount = 0;
  lines.forEach((line, index) => {
    educationCount++;
    line.setAttribute("data-index", index);
    const strong = line.querySelector("strong");
    if (strong) strong.innerText = `${index + 1}.`;
  });
}

function toggleExperienceTable() {
    const statusEl = document.getElementById("experience_status");
    const container = document.getElementById("experienceTableContainer");
    if (!statusEl || !container) return;
    const status = statusEl.value;
    container.style.display = (status === "Experienced") ? "block" : "none";
    if (status !== "Experienced") {
        const ep = document.getElementById("experiencePreview"); if (ep) ep.innerHTML = "";
        const te = document.getElementById("totalExperience"); if (te) te.value = "";
        experienceDataArray = [];
    }
}

function escapeHtml(text) {
  return text.replace(/[&<>"']/g, function(m) {
    return ({
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#039;'
    })[m];
  });
}

function calculateTotalExperience() {
  let total = 0;
  experienceDataArray.forEach(exp => {
    const from = new Date(exp.frommonth);
    const to = new Date(exp.tomonth);
    let expYears = (to - from) / (1000 * 60 * 60 * 24 * 365);
    total += expYears;
  });
  const te = document.getElementById("totalExperience");
  if (te) te.value = total.toFixed(1);
}

function addExperience() {
  const company = document.getElementById("previouscompany").value.trim();
  const office = document.getElementById("companyoffice").value.trim();
  const designation = document.getElementById("designation").value.trim();
  const projectname = document.getElementById("projectname").value.trim();
  const projectlocation = document.getElementById("projectlocation").value.trim();
  const projectvalue = document.getElementById("projectvalue").value.trim();
  const role = document.getElementById("role").value.trim();
  const frommonth = document.getElementById("frommonth").value;
  const tomonth = document.getElementById("tomonth").value;

  if (!company || !role || !frommonth || !tomonth) {
    alert("Please fill all required fields");
    return;
  }

  experienceDataArray.push({
    projectname,
    projectlocation,
    projectvalue,
    previouscompany: company,
    companyoffice: office,
    designation,
    role,
    frommonth,
    tomonth
  });

  const from = new Date(frommonth);
  const to = new Date(tomonth);
  let expYears = (to - from) / (1000 * 60 * 60 * 24 * 365);
  expYears = expYears.toFixed(1);

  const li = document.createElement("li");
  li.setAttribute("data-index", experienceDataArray.length - 1);
  li.innerHTML = `
    <b>${company}</b> (${office})<br>
    Designation: ${designation}<br>
    Project: ${projectname} - ${projectlocation}<br>
    Value: ${projectvalue}<br>
    Role: ${role}<br>
    From: ${frommonth} ‚Üí To: ${tomonth}<br>
    Experience: <span class="yearVal">${expYears}</span> yrs
    <button type="button" onclick="removeExperience(this)">‚úñ</button>
  `;

  document.getElementById("experiencePreview").appendChild(li);
  calculateTotalExperience();

  document.getElementById("previouscompany").value = "";
  document.getElementById("companyoffice").value = "";
  document.getElementById("designation").value = "";
  document.getElementById("projectname").value = "";
  document.getElementById("projectlocation").value = "";
  document.getElementById("projectvalue").value = "";
  document.getElementById("role").value = "";
  document.getElementById("frommonth").value = "";
  document.getElementById("tomonth").value = "";
}

function removeExperience(btn) {
  const li = btn.parentElement;
  const index = parseInt(li.getAttribute("data-index"));
  experienceDataArray.splice(index, 1);
  li.remove();
  
  document.querySelectorAll("#experiencePreview li").forEach((item, idx) => {
    item.setAttribute("data-index", idx);
  });
  
  calculateTotalExperience();
}

function addFamilyPreview() {
  const name = document.getElementById("fname").value;
  const age = document.getElementById("fage").value;
  const rel = document.getElementById("frel").value;
  const occ = document.getElementById("focc").value;
  const marital = document.getElementById("fmarital").value;
  const loc = document.getElementById("floc").value;
  const ph = document.getElementById("fph").value;

  if (!name || !age || !rel || !occ || !marital || !loc || !ph) {
    alert("Please fill in all family fields.");
    return;
  }

  familyDataArray.push({
    name: name,
    age: age,
    relation: rel,
    occupation: occ,
    marital_status: marital,
    location: loc,
    phone: ph
  });

  familyCount++;
  const container = document.getElementById("familyPreviewContainer");
  const line = document.createElement("div");
  line.className = "edu-preview-line";
  line.setAttribute("data-index", familyDataArray.length - 1);
  line.innerHTML = `
    <strong>${familyCount}.</strong> ${escapeHtml(rel)}, ${escapeHtml(name)}, ${escapeHtml(age)} yrs, ${escapeHtml(occ)}, ${escapeHtml(marital)}, ${escapeHtml(loc)}, üìû ${escapeHtml(ph)}
    <button type="button" onclick="removeFamily(this)">‚úñ</button>
  `;
  container.appendChild(line);

  document.getElementById("frel").value = "";
  document.getElementById("fname").value = "";
  document.getElementById("fage").value = "";
  document.getElementById("focc").value = "";
  document.getElementById("fmarital").value = "";
  document.getElementById("floc").value = "";
  document.getElementById("fph").value = "";
}


 

function removeFamily(btn) {
  const line = btn.parentElement;
  const index = parseInt(line.getAttribute("data-index"));
  familyDataArray.splice(index, 1);
  line.remove();
  renumberFamily();
}

function renumberFamily() {
  const lines = document.querySelectorAll('#familyPreviewContainer .edu-preview-line');
  familyCount = 0;
  lines.forEach((line, index) => {
    familyCount++;
    line.setAttribute("data-index", index);
    const strong = line.querySelector("strong"); if (strong) strong.innerText = `${index + 1}.`;
  });
}

async function fileToBase64(file) {
  return new Promise((resolve, reject) => {
    const reader = new FileReader();
    reader.onload = () => resolve(reader.result.split(',')[1]);
    reader.onerror = error => reject(error);
    reader.readAsDataURL(file);
  });
}

function toggleOtherSkill(select) {
  const otherInput = document.getElementById("otherSkill");
  if (!otherInput) return;
  if (select.value === "Other") {
    otherInput.style.display = "inline-block";
  } else {
    otherInput.style.display = "none";
  }
}

function addSkillPreview() {
  const skillSelect = document.getElementById("skillSelect");
  const otherSkillInput = document.getElementById("otherSkill");
  const proficiencySelect = document.getElementById("skillProficiency");
  if (!skillSelect || !proficiencySelect) return;

  let skill = skillSelect.value;
  if (skill === "Other") {
    skill = otherSkillInput.value.trim();
    if (!skill) {
      alert("Please enter a skill name for 'Other'");
      return;
    }
  }

  const proficiency = proficiencySelect.value;

  if (!skill || !proficiency) {
    alert("Please select a skill and proficiency.");
    return;
  }

  skillsDataArray.push({
    skill: skill,
    proficiency: proficiency
  });

  skillCount++;
  const container = document.getElementById("skillPreviewContainer");
  const line = document.createElement("div");
  line.className = "edu-preview-line";
  line.setAttribute("data-index", skillsDataArray.length - 1);
  line.innerHTML = `
    <strong>${skillCount}.</strong> <b>${escapeHtml(skill)}</b> - <b>${escapeHtml(proficiency)}</b>
    <button type="button" onclick="removeSkill(this)">‚úñ</button>
  `;
  container.appendChild(line);

  skillSelect.selectedIndex = 0;
  proficiencySelect.value = "Excellent";
  if (otherSkillInput) { otherSkillInput.value = ""; otherSkillInput.style.display = "none"; }
}

function removeSkill(btn) {
  const line = btn.parentElement;
  const index = parseInt(line.getAttribute("data-index"));
  skillsDataArray.splice(index, 1);
  line.remove();
  renumberSkills();
}

function renumberSkills() {
  const lines = document.querySelectorAll('#skillPreviewContainer .edu-preview-line');
  skillCount = 0;

  lines.forEach((line, index) => {
    skillCount++;
    line.setAttribute("data-index", index);
    const strong = line.querySelector("strong"); if (strong) strong.innerText = `${skillCount}.`;
  });
}

function addReference() {
  const row = document.querySelector(".referenceRow");
  if (!row) return;

  const name = row.querySelector('textarea[name="ref_name[]"]').value.trim();
  const company = row.querySelector('textarea[name="ref_company[]"]').value.trim();
  const designation = row.querySelector('textarea[name="ref_designation[]"]').value.trim();
  const contact = row.querySelector('textarea[name="ref_contact[]"]').value.trim();

  if (!name || !company || !designation || !contact) {
    alert("Please fill all reference fields");
    return;
  }

  referencesDataArray.push({
    name: name,
    company: company,
    designation: designation,
    contact: contact
  });

  const preview = document.createElement("div");
  preview.setAttribute("data-index", referencesDataArray.length - 1);
  preview.innerHTML = `
    <strong>${refCount}.</strong> 
   ${escapeHtml(name)} | 
   ${escapeHtml(company)} | 
    ${escapeHtml(designation)} | 
     ${escapeHtml(contact)}
    <button type="button" onclick="removeReference(this)">‚úñ</button>
  `;
  document.getElementById("referencePreview").appendChild(preview);

  refCount++;

  row.querySelectorAll("textarea").forEach(el => el.value = "");
}

function removeReference(btn) {
  const preview = btn.parentElement;
  const index = parseInt(preview.getAttribute("data-index"));
  referencesDataArray.splice(index, 1);
  preview.remove();
  reindexReferences();
}

function reindexReferences() {
  const previews = document.querySelectorAll("#referencePreview div");
  refCount = 1;
  previews.forEach((el, idx) => {
    el.setAttribute("data-index", idx);
    const strong = el.querySelector("strong"); if (strong) strong.innerText = `${idx + 1}.`;
  });
  refCount = previews.length + 1;
}

function toggleMarriageYear() {
  const maritalStatus = document.getElementById("marital_status");
  const marriageField = document.getElementById("marriageYearField");
  if (!maritalStatus || !marriageField) return;
  marriageField.style.display = maritalStatus.value === "Married" ? "block" : "none";
}

document.addEventListener("DOMContentLoaded", function () {
    updateStreamOptions();

    const maritalEl = document.getElementById("marital_status"); 
    if (maritalEl) maritalEl.addEventListener("change", toggleMarriageYear);

    const vehicleEl = document.getElementById("vehicle_owned"); 
    if (vehicleEl) vehicleEl.addEventListener("change", function () {
        const show = ["Two Wheeler", "Four Wheeler"].includes(this.value);
        const licenseField = document.getElementById("licenseField"); 
        if (licenseField) licenseField.style.display = show ? "block" : "none";
    });

    const healthEl = document.getElementById("health_problem"); 
    if (healthEl) healthEl.addEventListener("change", function () {
        const healthDetails = document.getElementById("healthDetails"); 
        if (healthDetails) healthDetails.style.display = this.value === "Yes" ? "block" : "none";
    });

    const physEl = document.getElementById("physically_challenged"); 
    if (physEl) physEl.addEventListener("change", function () {
        const physicalDetails = document.getElementById("physicalDetails"); 
        if (physicalDetails) physicalDetails.style.display = this.value === "Yes" ? "block" : "none";
    });

    const knownRelEl = document.getElementById("known_person_relationship"); 
    if (knownRelEl) knownRelEl.addEventListener("change", function () {
        const relativeDetail = document.getElementById("relativeDetail"); 
        if (relativeDetail) relativeDetail.style.display = this.value === "Relative" ? "block" : "none";
    });

    const langSpeakChk = document.getElementById("langSpeakOthersChk");
    if (langSpeakChk) {
      langSpeakChk.addEventListener("change", function () {
        const otherSpeakGroup = document.getElementById("otherSpeakGroup"); 
        if (otherSpeakGroup) otherSpeakGroup.style.display = this.checked ? "block" : "none";
      });
    }

    const langWriteChk = document.getElementById("langWriteOthersChk");
    if (langWriteChk) {
      langWriteChk.addEventListener("change", function () {
        const otherWriteGroup = document.getElementById("otherWriteGroup"); 
        if (otherWriteGroup) otherWriteGroup.style.display = this.checked ? "block" : "none";
      });
    }

    const qualEl2 = document.getElementById("qual"); 
    if (qualEl2) qualEl2.addEventListener("change", updateStreamOptions);
});

const candidateFormEl = document.getElementById("candidateForm");
if (candidateFormEl) candidateFormEl.addEventListener("submit", submitCandidateForm);

async function submitCandidateForm(event) {
  event.preventDefault();
  const form = document.getElementById("candidateForm");
  if (!form) return;
  const submitBtn = form.querySelector('button[type="submit"], input[type="submit"]');
  if (submitBtn) { submitBtn.disabled = true; }
  document.getElementById("loadingOverlay").style.display = "flex";
  
  try {
    const formData = new FormData(form);
    
    const aadharFile = document.getElementById("aadhar_upload").files[0];
    const photoFile = document.getElementById("photo_upload").files[0];
    const resumeFile = document.getElementById("resume_upload").files[0];
    
    if (aadharFile) {
      const base64Aadhar = await fileToBase64(aadharFile);
      formData.append("aadhar_base64", base64Aadhar);
      formData.append("aadhar_name", aadharFile.name);
      formData.append("aadhar_type", aadharFile.type);
    }
    
    if (photoFile) {
      const base64Photo = await fileToBase64(photoFile);
      formData.append("photo_base64", base64Photo);
      formData.append("photo_name", photoFile.name);
      formData.append("photo_type", photoFile.type);
    }
    
    if (resumeFile) {
      const base64Resume = await fileToBase64(resumeFile);
      formData.append("resume_base64", base64Resume);
      formData.append("resume_name", resumeFile.name);
      formData.append("resume_type", resumeFile.type);
    }

    function getCheckedValues(name) {
      return Array.from(document.querySelectorAll(`input[name="${name}"]:checked`))
        .map(el => el.value);
    }
    let selectedSpeak = getCheckedValues("languageSpeak");
    const otherSpeakInput = document.getElementById("otherSpeak");
    const otherSpeakChecked = document.getElementById("langSpeakOthersChk")?.checked;
    if (otherSpeakChecked && otherSpeakInput?.value.trim() !== "") {
      selectedSpeak.push(otherSpeakInput.value.trim());
    }
    formData.append("languageSpeakCombined", selectedSpeak.join(", "));
    
    let selectedWrite = getCheckedValues("languageWrite");
    const otherWriteInput = document.getElementById("otherWrite");
    const otherWriteChecked = document.getElementById("langWriteOthersChk")?.checked;
    if (otherWriteChecked && otherWriteInput?.value.trim() !== "") {
      selectedWrite.push(otherWriteInput.value.trim());
    }
    formData.append("languageWriteCombined", selectedWrite.join(", "));
    
    console.log("Sending structured data:", {
      education: educationDataArray,
      experience: experienceDataArray,
      family: familyDataArray,
      skills: skillsDataArray,
      references: referencesDataArray
    });
    
    formData.append("educationData", JSON.stringify(educationDataArray));
    formData.append("experienceData", JSON.stringify(experienceDataArray));
    formData.append("familyData", JSON.stringify(familyDataArray));
    formData.append("skillsData", JSON.stringify(skillsDataArray));
    formData.append("referencesData", JSON.stringify(referencesDataArray));
    
    formData.append("marriage_year", document.getElementById("marriage_year")?.value || "");
    formData.append("health_problem_details", document.querySelector('input[name="health_problem_details"]')?.value || "");
    formData.append("physically_challenged_details", document.querySelector('input[name="physically_challenged_details"]')?.value || "");
    formData.append("relative_type", document.querySelector('input[name="relative_type"]')?.value || "");

    const GAS_URL = "https://script.google.com/macros/s/AKfycbzQsXkxTc2kZCWDZ3EuIM11OfnKBwgRssiCGxsr2tKfvO4fzC1ubJLKhRFGLckWpkA/exec";
    const response = await fetch(GAS_URL, { 
      method: "POST",
      body: formData,
    });
    
    const data = await response.json();
    
    if (data.result === "success") {
      // Show success message with PDF link
      let successMessage = `‚úÖ ${data.message || 'Form submitted successfully!'}\n\n`;
      //successMessage += `üìã Application Number: ${data.rowNumber}\n\n`;
      
      if (data.pdfUrl) {
        successMessage += `üìÑ Your Professional PDF has been generated!\n\n`;
        //successMessage += `Click OK to view your application PDF.`;
        alert(successMessage);
        
        // Open PDF in new tab
       
      } else {
        successMessage += `Your application has been saved successfully!`;
        alert(successMessage);
      }
      
      // Reset form
      form.reset();
      document.getElementById("educationPreviewContainer").innerHTML = "";
      document.getElementById("familyPreviewContainer").innerHTML = "";
      document.getElementById("skillPreviewContainer").innerHTML = "";
      document.getElementById("referencePreview").innerHTML = "";
      document.getElementById("experiencePreview").innerHTML = "";
      document.getElementById("totalExperience").value = "";
      
      educationDataArray = [];
      experienceDataArray = [];
      familyDataArray = [];
      skillsDataArray = [];
      referencesDataArray = [];
      educationCount = familyCount = skillCount = 0;
      refCount = 1;
    } else {
      alert(`‚ùå Error: ${data.message || "Error submitting form"}`);
    }

  } catch (error) {
    console.error("Error submitting form:", error);
    alert("Error submitting form. Please try again.");
  } finally {
    document.getElementById("loadingOverlay").style.display = "none";
    if (submitBtn) { submitBtn.disabled = false; }
  }
}

function generateProfessionalPDF() {
  const { jsPDF } = window.jspdf;
  
  if (!jsPDF) {
    alert("PDF library not loaded. Please refresh the page and try again.");
    return;
  }

  const doc = new jsPDF();
  
  doc.setFontSize(18);
  doc.setFont(undefined, 'bold');
  doc.text("P&C PROJECTS PRIVATE LIMITED", 105, 15, { align: 'center' });
  
  doc.setFontSize(14);
  doc.text("Candidate Application Form", 105, 23, { align: 'center' });
  
  doc.setFontSize(11);
  doc.setFont(undefined, 'normal');
  
  let y = 35;
  
  const fullName = document.getElementById("full_name").value || "N/A";
  const dobYear = document.getElementById("dob_year").value || "N/A";
  const maritalStatus = document.getElementById("marital_status").value || "N/A";
  const appliedPost = document.getElementById("applied_post").value || "N/A";
  const phoneNo = document.getElementById("phone_no").value || "N/A";
  
  doc.setFont(undefined, 'bold');
  doc.text("Personal Information", 14, y);
  y += 7;
  doc.setFont(undefined, 'normal');
  doc.text(`Full Name: ${fullName}`, 14, y);
  y += 6;
  doc.text(`Year of Birth: ${dobYear}`, 14, y);
  y += 6;
  doc.text(`Marital Status: ${maritalStatus}`, 14, y);
  y += 6;
  doc.text(`Applied Post: ${appliedPost}`, 14, y);
  y += 6;
  doc.text(`Phone: ${phoneNo}`, 14, y);
  y += 10;
  
  if (educationDataArray.length > 0) {
    doc.setFont(undefined, 'bold');
    doc.text("Education", 14, y);
    y += 7;
    doc.setFont(undefined, 'normal');
    
    educationDataArray.forEach((edu, index) => {
      doc.text(`${index + 1}. ${edu.qual} - ${edu.stream} (${edu.from} to ${edu.to})`, 14, y);
      y += 6;
    });
    y += 4;
  }
  
  if (experienceDataArray.length > 0) {
    doc.setFont(undefined, 'bold');
    doc.text("Experience", 14, y);
    y += 7;
    doc.setFont(undefined, 'normal');
    
    experienceDataArray.forEach((exp, index) => {
      if (y > 270) {
        doc.addPage();
        y = 20;
      }
      doc.text(`${index + 1}. ${exp.previouscompany} - ${exp.designation}`, 14, y);
      y += 6;
    });
    y += 4;
  }
  
  if (skillsDataArray.length > 0) {
    if (y > 250) {
      doc.addPage();
      y = 20;
    }
    doc.setFont(undefined, 'bold');
    doc.text("Skills", 14, y);
    y += 7;
    doc.setFont(undefined, 'normal');
    
    skillsDataArray.forEach((skill, index) => {
      doc.text(`${index + 1}. ${skill.skill} - ${skill.proficiency}`, 14, y);
      y += 6;
    });
  }
  
  doc.save("Application_Preview.pdf");
  alert("‚úÖ PDF Preview downloaded successfully!");
}
  </script>
</body>
</html>


